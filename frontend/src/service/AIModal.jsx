// const {
//     GoogleGenerativeAI,
//     HarmCategory,
//     HarmBlockThreshold,
//   } = require("@google/generative-ai");
import {GoogleGenerativeAI} from "@google/generative-ai";
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for multiple locations based on length of cities - for each Location: {Goa, for 3 Days, latitude of 15.60444125, longitude of 74.00172406307475} for Solo of 1 people with a Cheap budget.\n\nGive me a list of hotel options with Hotel Name, Hotel Address, Price, Hotel Image URL, Geo Coordinates, Rating, and Description.\n\nSuggest an itinerary including Place Name, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, Rating, Travel Time, and include daily food recommendations for meals (breakfast, lunch, dinner) for each location per city duration.\n\nFor each day in the itinerary, provide: \n- Morning activity with breakfast details\n- Midday activity with lunch details\n- Afternoon activity \n- Evening activity with dinner details\n\nProvide a daily plan with the best time to visit each place in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a travel plan for Goa, designed for a solo traveler on a budget. I've included hotel options, a detailed itinerary with food recommendations, and the best times to visit each place.\n\n```json\n{\n  \"tripDetails\": {\n    \"destination\": \"Goa\",\n    \"duration\": 3,\n    \"travelers\": 1,\n    \"budget\": \"Cheap\",\n    \"travelStyle\": \"Solo\"\n  },\n  \"cityDetails\": {\n    \"city\": \"Goa\",\n    \"latitude\": 15.60444125,\n    \"longitude\": 74.00172406307475,\n    \"description\": \"Goa, known for its beaches, nightlife, and Portuguese heritage, offers a vibrant mix of culture and relaxation.\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Red Fox Hotel, Morjim, Goa\",\n      \"hotelAddress\": \"Tembwada, Morjim, Goa, Goa 403519\",\n      \"price\": 1500,\n      \"hotelImageURL\": \"https://assets.servstatic.host/redfoxhotels.com/RFHG_Morjim_ExteriorView_1080x600.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 15.6504,\n        \"longitude\": 73.7483\n      },\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel in North Goa, offering comfortable rooms and basic amenities.\"\n    },\n    {\n      \"hotelName\": \"Backpacker Panda Goa\",\n      \"hotelAddress\": \"House No. 572, Palolem, Canacona, Goa 403702\",\n      \"price\": 800,\n      \"hotelImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/42/c8/2d/backpacker-panda-goa.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 15.0023,\n        \"longitude\": 74.0208\n      },\n      \"rating\": 4.2,\n      \"description\": \"A popular hostel for backpackers, offering dorms and private rooms at affordable prices.\"\n    },\n    {\n      \"hotelName\": \"The Hosteller Goa\",\n      \"hotelAddress\": \"House No. 572, Palolem, Canacona, Goa 403702\",\n      \"price\": 1000,\n      \"hotelImageURL\": \"https://thehosteller.com/wp-content/uploads/2023/01/The-Hosteller-Goa-Palolem-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 15.0023,\n        \"longitude\": 74.0208\n      },\n      \"rating\": 4.3,\n      \"description\": \"A vibrant hostel with a social atmosphere, offering dorms, events, and a common area.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"North Goa Beaches & Culture\",\n      \"morning\": {\n        \"activity\": \"Visit Calangute Beach\",\n        \"placeName\": \"Calangute Beach\",\n        \"placeDetails\": \"One of the most popular beaches in Goa, known for its bustling atmosphere, water sports, and shacks.\",\n        \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Calangute_Beach_during_Sunset.jpg/1280px-Calangute_Beach_during_Sunset.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5453,\n          \"longitude\": 73.7595\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.0,\n        \"travelTime\": \"30-45 minutes from Panjim\",\n        \"bestTimeToVisit\": \"9:00 AM - 11:00 AM (to avoid crowds)\",\n        \"breakfast\": \"Head to a beach shack for a Goan breakfast of Poori Bhaji or Pao Bhaji (approx. INR 150-200).\"\n      },\n      \"midday\": {\n        \"activity\": \"Explore Fort Aguada\",\n        \"placeName\": \"Fort Aguada\",\n        \"placeDetails\": \"A well-preserved 17th-century Portuguese fort offering panoramic views of the Arabian Sea.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/05/98/7d/12/fort-aguada.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5102,\n          \"longitude\": 73.7649\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.3,\n        \"travelTime\": \"15-20 minutes from Calangute\",\n        \"bestTimeToVisit\": \"11:30 AM - 1:00 PM (good for photos)\",\n        \"lunch\": \"Have lunch at a restaurant near Fort Aguada. Try Souza Lobo on Calangute Beach for seafood (approx. INR 400-600).\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Visit Baga Beach\",\n        \"placeName\": \"Baga Beach\",\n        \"placeDetails\": \"Known for its lively nightlife, water sports, and Tito's Lane.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0a/1c/6c/6a/baga-beach.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5569,\n          \"longitude\": 73.7534\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.1,\n        \"travelTime\": \"10-15 minutes from Fort Aguada\",\n        \"bestTimeToVisit\": \"2:30 PM - 4:00 PM (for relaxing on the beach)\"\n      },\n      \"evening\": {\n        \"activity\": \"Experience Tito's Lane\",\n        \"placeName\": \"Tito's Lane\",\n        \"placeDetails\": \"A famous street known for its nightclubs, bars, and restaurants.\",\n        \"placeImageURL\": \"https://www.fabhotels.com/blog/wp-content/uploads/2018/12/Titos-Lane-Goa_600.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5576,\n          \"longitude\": 73.7524\n        },\n        \"ticketPricing\": \"Varies (entry fees for clubs)\",\n        \"rating\": 4.2,\n        \"travelTime\": \"Located in Baga\",\n        \"bestTimeToVisit\": \"9:00 PM onwards (nightlife begins)\",\n        \"dinner\": \"Enjoy dinner at one of the shacks on Baga Beach or in Tito's Lane.  Try Goan Fish Curry and Rice (approx. INR 300-500).\"\n      }\n    },\n    \"day2\": {\n      \"theme\": \"South Goa Exploration\",\n      \"morning\": {\n        \"activity\": \"Visit Palolem Beach\",\n        \"placeName\": \"Palolem Beach\",\n        \"placeDetails\": \"A serene and picturesque beach in South Goa, known for its calm waters and dolphin spotting tours.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/8b/56/57/palolem-beach.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.0034,\n          \"longitude\": 74.0217\n        },\n        \"ticketPricing\": \"Free (dolphin spotting tours extra)\",\n        \"rating\": 4.5,\n        \"travelTime\": \"2-3 hours from North Goa\",\n        \"bestTimeToVisit\": \"9:00 AM - 11:00 AM (for a peaceful experience)\",\n        \"breakfast\": \"Have breakfast at a cafe near Palolem Beach. Try a Masala Dosa or Idli (approx. INR 100-150).\"\n      },\n      \"midday\": {\n        \"activity\": \"Explore Colva Beach\",\n        \"placeName\": \"Colva Beach\",\n        \"placeDetails\": \"A long stretch of white sand beach in South Goa, known for its fishing boats and shacks.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/1b/1d/34/colva-beach.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.2774,\n          \"longitude\": 73.9516\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.2,\n        \"travelTime\": \"1-1.5 hours from Palolem\",\n        \"bestTimeToVisit\": \"11:30 AM - 1:00 PM (enjoy the beach before the heat)\",\n        \"lunch\": \"Enjoy lunch at a shack on Colva Beach.  Try a seafood thali (approx. INR 300-400).\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Visit the Church of Our Lady of Glory\",\n        \"placeName\": \"Church of Our Lady of Glory\",\n        \"placeDetails\": \"A historic church in Colva, known for its Portuguese architecture.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/2d/73/37/church-of-our-lady-of.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.2776,\n          \"longitude\": 73.9511\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.3,\n        \"travelTime\": \"Walking distance from Colva Beach\",\n        \"bestTimeToVisit\": \"2:30 PM - 4:00 PM (afternoon visit)\"\n      },\n      \"evening\": {\n        \"activity\": \"Sunset at Benaulim Beach\",\n        \"placeName\": \"Benaulim Beach\",\n        \"placeDetails\": \"A quieter beach in South Goa, known for its fishing tradition and dolphin spotting.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0b/52/c3/fa/benaulim-beach.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.2486,\n          \"longitude\": 73.9439\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.4,\n        \"travelTime\": \"15-20 minutes from Colva\",\n        \"bestTimeToVisit\": \"5:00 PM - 6:30 PM (for sunset)\",\n        \"dinner\": \"Have dinner at a restaurant in Benaulim. Try Martin's Corner for Goan cuisine (approx. INR 400-600).\"\n      }\n    },\n    \"day3\": {\n      \"theme\": \"Panjim & Old Goa Heritage\",\n      \"morning\": {\n        \"activity\": \"Explore Panjim City\",\n        \"placeName\": \"Panjim (Panaji)\",\n        \"placeDetails\": \"The capital city of Goa, known for its Portuguese architecture, churches, and the Mandovi River.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/79/08/00/caption.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.4909,\n          \"longitude\": 73.8278\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.2,\n        \"travelTime\": \"Variable depending on where you are starting from.\",\n        \"bestTimeToVisit\": \"9:00 AM - 11:00 AM (explore the Latin Quarter)\",\n        \"breakfast\": \"Have breakfast at a cafe in Panjim. Try Cafe Bhosle for traditional Goan snacks (approx. INR 150-200).\"\n      },\n      \"midday\": {\n        \"activity\": \"Visit the Basilica of Bom Jesus\",\n        \"placeName\": \"Basilica of Bom Jesus\",\n        \"placeDetails\": \"A UNESCO World Heritage Site, housing the mortal remains of St. Francis Xavier.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/11/29/24/basilica-of-bom-jesus.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5014,\n          \"longitude\": 73.9119\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.6,\n        \"travelTime\": \"30-45 minutes from Panjim\",\n        \"bestTimeToVisit\": \"11:30 AM - 1:00 PM (avoid peak heat)\",\n        \"lunch\": \"Have lunch at a restaurant in Old Goa.  Try Vinayak Family Restaurant for Goan cuisine (approx. INR 300-500).\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Explore Se Cathedral\",\n        \"placeName\": \"Se Cathedral\",\n        \"placeDetails\": \"One of the largest churches in India, known for its impressive architecture.\",\n        \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/07/4d/41/2b/se-cathedral.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.5019,\n          \"longitude\": 73.9112\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"travelTime\": \"Walking distance from Basilica of Bom Jesus\",\n        \"bestTimeToVisit\": \"2:30 PM - 4:00 PM (visit both churches together)\"\n      },\n      \"evening\": {\n        \"activity\": \"Mandovi River Cruise\",\n        \"placeName\": \"Mandovi River\",\n        \"placeDetails\": \"Enjoy a relaxing cruise on the Mandovi River, often with live music and dance performances.\",\n        \"placeImageURL\": \"https://goa-tourism.com/wp-content/uploads/2023/04/River-Cruise-in-Goa.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 15.4919,\n          \"longitude\": 73.8324\n        },\n        \"ticketPricing\": \"INR 300-500\",\n        \"rating\": 4.3,\n        \"travelTime\": \"Back to Panjim\",\n        \"bestTimeToVisit\": \"6:00 PM - 8:00 PM (sunset cruise)\",\n        \"dinner\": \"Enjoy dinner in Panjim after the cruise. Try The Fisherman's Wharf for seafood (approx. INR 500-800).\"\n      }\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Transportation:**  For a budget trip, consider renting a scooter (INR 300-500 per day) or using local buses and taxis.  Buses are the cheapest option but can be time-consuming.\n*   **Bargaining:** Bargain when shopping for souvenirs or hiring taxis/scooters.\n*   **Safety:** Be mindful of your belongings, especially in crowded areas.  Avoid walking alone late at night.\n*   **Food Budget:** The food prices are estimates.  You can reduce costs by eating at local eateries and avoiding tourist traps.\n*   **Accommodation:** Prices can vary depending on the season.  Book in advance, especially during peak season.\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it based on your interests and preferences.\n*   **Distances:** Travel times are estimates and can vary depending on traffic conditions.\n\n**Explanation of the JSON Structure:**\n\n*   `tripDetails`:  Overall details of the trip (destination, duration, budget).\n*   `cityDetails`: Specific information about Goa, including its location and a brief description.\n*   `hotelOptions`: A list of potential hotels, each with its name, address, price, image URL, geo-coordinates, rating, and a short description.  The prices are indicative and can change.\n*   `itinerary`:  A breakdown of the trip, day by day.\n    *   `day1`, `day2`, `day3`: Each day has a theme and a series of activities.\n    *   `morning`, `midday`, `afternoon`, `evening`: Each time slot includes an activity, place details (name, description, image URL, geo-coordinates, ticket pricing, rating, travel time, best time to visit), and food recommendations.\n\nThis JSON provides a comprehensive framework for your solo trip to Goa. Remember to check prices and availability closer to your travel dates. Have a fantastic time!\n"},
          ],
        },
      ],
    });
  
   
  
