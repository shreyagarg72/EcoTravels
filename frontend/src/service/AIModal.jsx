// const {
//     GoogleGenerativeAI,
//     HarmCategory,
//     HarmBlockThreshold,
//   } = require("@google/generative-ai");
import {GoogleGenerativeAI} from "@google/generative-ai";
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for multiple locations based on length of cities - for each Location: {Goa, for 3 Days, latitude of 15.60444125, longitude of 74.00172406307475} for Solo of 1 people with a Cheap budget. Give me a list of hotel options with Hotel Name, Hotel Address, Price, Hotel Image URL, Geo Coordinates, Rating, and Description.\nSuggest an itinerary including Place Name, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, Rating, Travel Time, and include daily food recommendations for meals (breakfast, lunch, dinner) for each location per city duration.\nFor each day in the itinerary, provide:- Morning activity with breakfast details- Midday activity with lunch details- Afternoon activity - Evening activity with dinner details\nProvide a daily plan with the best time to visit each place in JSON format.\n\nPlease provide the response in the following strict JSON format:\n\n\"travelPlans\": [\n{\n\"location\": \"Goa\",\n\"duration\": \"3 Days\",\n\"travelerType\": \"Solo\",\n\"budget\": \"Cheap\",\n\"hotelOptions\": [\n{\n\"hotelName\": \"\",\n\"hotelAddress\": \"\",\n\"price\": \"\",\n\"hotelImageUrl\": \"\",\n\"coordinates\": {\n\"latitude\": 0,\n\"longitude\": 0\n},\n\"rating\": 0,\n\"description\": \"\"\n}\n],\n\"itinerary\": [\n{\n\"day\": 1,\n\"theme\": \"Day Theme\",\n\"morning\": {\n\"activity\": {\n\"placeName\": \"\",\n\"placeDetails\": \"\",\n\"imageUrl\": \"\",\n\"coordinates\": {\n\"latitude\": 0,\n\"longitude\": 0\n},\n\"ticketPrice\": \"\",\n\"rating\": 0,\n\"bestTimeToVisit\": \"\",\n\"travelTime\": \"\"\n},\n\"breakfast\": {\n\"restaurantName\": \"\",\n\"cuisine\": \"\",\n\"priceRange\": \"\",\n\"location\": \"\"\n}\n},\n\"afternoon\": {\n\"activity\": {\n\"placeName\": \"\",\n\"placeDetails\": \"\",\n\"imageUrl\": \"\",\n\"coordinates\": {\n\"latitude\": 0,\n\"longitude\": 0\n},\n\"ticketPrice\": \"\",\n\"rating\": 0,\n\"bestTimeToVisit\": \"\",\n\"travelTime\": \"\"\n},\n\"lunch\": {\n\"restaurantName\": \"\",\n\"cuisine\": \"\",\n\"priceRange\": \"\",\n\"location\": \"\"\n}\n},\n\"evening\": {\n\"activity\": {\n\"placeName\": \"\",\n\"placeDetails\": \"\",\n\"imageUrl\": \"\",\n\"coordinates\": {\n\"latitude\": 0,\n\"longitude\": 0\n},\n\"ticketPrice\": \"\",\n\"rating\": 0,\n\"bestTimeToVisit\": \"\",\n\"travelTime\": \"\"\n},\n\"dinner\": {\n\"restaurantName\": \"\",\n\"cuisine\": \"\",\n\"priceRange\": \"\",\n\"location\": \"\"\n}\n}\n}\n]\n}\n]\n\nPlease ensure each field follows this exact structure and naming convention. Fields should not be empty - use \"Not available\" if information is not applicable.`;"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlans\": [\n    {\n      \"location\": \"Goa\",\n      \"duration\": \"3 Days\",\n      \"travelerType\": \"Solo\",\n      \"budget\": \"Cheap\",\n      \"hotelOptions\": [\n        {\n          \"hotelName\": \"Red Fox Hotel, Morjim, Goa\",\n          \"hotelAddress\": \"Tembwada Morjim- Chapora Rd Pernem, Goa 403512\",\n          \"price\": \"₹1,500 - ₹2,500\",\n          \"hotelImageUrl\": \"https://example.com/redfoxgoa.jpg\",\n          \"coordinates\": {\n            \"latitude\": 15.6259,\n            \"longitude\": 73.7487\n          },\n          \"rating\": 4.0,\n          \"description\": \"A budget-friendly hotel offering comfortable rooms and basic amenities, located near Morjim Beach.\"\n        },\n        {\n          \"hotelName\": \"Backpacker Panda Goa\",\n          \"hotelAddress\": \"House No 401, Opposite Football Ground Near St Anthony Chapel Anjuna Bardez, Goa 403509\",\n          \"price\": \"₹500 - ₹1,000\",\n          \"hotelImageUrl\": \"https://example.com/backpackerpanda.jpg\",\n          \"coordinates\": {\n            \"latitude\": 15.5683,\n            \"longitude\": 73.7393\n          },\n          \"rating\": 3.5,\n          \"description\": \"A hostel with dorms and private rooms, perfect for solo travelers on a tight budget. Offers social activities and a communal atmosphere.\"\n        },\n        {\n          \"hotelName\": \"The Hosteller Goa\",\n          \"hotelAddress\": \"H. No. 203, Gumal Vaddo, Parra, Bardez, Goa 403510\",\n          \"price\": \"₹600 - ₹1,200\",\n          \"hotelImageUrl\": \"https://example.com/thehosteller.jpg\",\n          \"coordinates\": {\n            \"latitude\": 15.5936,\n            \"longitude\": 73.8135\n          },\n          \"rating\": 4.2,\n          \"description\": \"A stylish hostel with dorms and private rooms, offering a comfortable stay with a focus on community and exploration.\"\n        }\n      ],\n      \"itinerary\": [\n        {\n          \"day\": 1,\n          \"theme\": \"North Goa Beaches and Forts\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Fort Aguada\",\n              \"placeDetails\": \"A well-preserved 17th-century Portuguese fort offering panoramic views of the Arabian Sea. Explore the lighthouse and historical structures.\",\n              \"imageUrl\": \"https://example.com/fortaguada.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.4991,\n                \"longitude\": 73.7585\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.5,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"30-45 minutes from Panjim\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Infantaria Cafe\",\n              \"cuisine\": \"Continental, Goan\",\n              \"priceRange\": \"₹200 - ₹400\",\n              \"location\": \"Calangute\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Calangute Beach\",\n              \"placeDetails\": \"One of the most popular beaches in Goa, known for its bustling atmosphere, water sports, and shacks.\",\n              \"imageUrl\": \"https://example.com/calangutebeach.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.5343,\n                \"longitude\": 73.7647\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.0,\n              \"bestTimeToVisit\": \"11:00 AM - 1:00 PM\",\n              \"travelTime\": \"5 minutes from Fort Aguada\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Souza Lobo\",\n              \"cuisine\": \"Seafood, Goan\",\n              \"priceRange\": \"₹400 - ₹700\",\n              \"location\": \"Calangute Beach\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Baga Beach\",\n              \"placeDetails\": \"Famous for its nightlife, Baga Beach offers a vibrant scene with beach shacks, clubs, and water sports.\",\n              \"imageUrl\": \"https://example.com/bagabeach.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.5545,\n                \"longitude\": 73.7521\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.2,\n              \"bestTimeToVisit\": \"6:00 PM - 9:00 PM\",\n              \"travelTime\": \"10 minutes from Calangute\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"Britto's\",\n              \"cuisine\": \"Seafood, Goan, Continental\",\n              \"priceRange\": \"₹500 - ₹800\",\n              \"location\": \"Baga Beach\"\n            }\n          }\n        },\n        {\n          \"day\": 2,\n          \"theme\": \"Central Goa and Panjim\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Se Cathedral\",\n              \"placeDetails\": \"One of the largest churches in Asia, the Se Cathedral is a magnificent example of Portuguese-Manueline architecture.\",\n              \"imageUrl\": \"https://example.com/secathedral.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.5000,\n                \"longitude\": 73.9000\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.6,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"1 hour from Baga\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Viva Panjim\",\n              \"cuisine\": \"Goan, Continental\",\n              \"priceRange\": \"₹250 - ₹450\",\n              \"location\": \"Panjim\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Dudhsagar Falls\",\n              \"placeDetails\": \"A majestic four-tiered waterfall located in the Sanguem taluka. Enjoy the scenic beauty and trek through the lush green forest (requires Jeep Safari).\",\n              \"imageUrl\": \"https://example.com/dudhsagar.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.3435,\n                \"longitude\": 74.3143\n              },\n              \"ticketPrice\": \"Jeep Safari: ₹500 per person (approx.)\",\n              \"rating\": 4.4,\n              \"bestTimeToVisit\": \"12:00 PM - 3:00 PM (Post Monsoon Season)\",\n              \"travelTime\": \"2-3 hours from Panjim (including Jeep Safari)\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Local Shacks near Dudhsagar (Simple Goan Meals)\",\n              \"cuisine\": \"Goan\",\n              \"priceRange\": \"₹200 - ₹300\",\n              \"location\": \"Near Dudhsagar Falls\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Casino Royale\",\n              \"placeDetails\": \"A popular floating casino in Panjim, offering a variety of games and entertainment. (Entry Fee applies).\",\n              \"imageUrl\": \"https://example.com/casinoroyale.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.4976,\n                \"longitude\": 73.8303\n              },\n              \"ticketPrice\": \"Entry fee starts from ₹2000 (approx.)\",\n              \"rating\": 4.0,\n              \"bestTimeToVisit\": \"8:00 PM - 11:00 PM\",\n              \"travelTime\": \"1 hour from Dudhsagar (Return to Panjim)\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"The Fisherman's Wharf\",\n              \"cuisine\": \"Seafood, Goan, Continental\",\n              \"priceRange\": \"₹600 - ₹900\",\n              \"location\": \"Panjim\"\n            }\n          }\n        },\n        {\n          \"day\": 3,\n          \"theme\": \"South Goa Relaxation\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Palolem Beach\",\n              \"placeDetails\": \"A serene and beautiful beach in South Goa, known for its calm waters, white sand, and palm trees. Ideal for swimming and relaxing.\",\n              \"imageUrl\": \"https://example.com/palolembeach.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.0079,\n                \"longitude\": 74.0161\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.7,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"2 hours from Panjim\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Magic Italy Restaurant\",\n              \"cuisine\": \"Italian, Continental\",\n              \"priceRange\": \"₹300 - ₹500\",\n              \"location\": \"Palolem Beach\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Colva Beach\",\n              \"placeDetails\": \"A long stretch of white sand beach in South Goa. It is less crowded compared to the northern beaches.\",\n              \"imageUrl\": \"https://example.com/colvabeach.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.2713,\n                \"longitude\": 73.9520\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.3,\n              \"bestTimeToVisit\": \"12:00 PM - 2:00 PM\",\n              \"travelTime\": \"1 hour from Palolem Beach\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Mickey's Colva\",\n              \"cuisine\": \"Seafood, Goan\",\n              \"priceRange\": \"₹400 - ₹700\",\n              \"location\": \"Colva Beach\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Sunset at Colva Beach\",\n              \"placeDetails\": \"Enjoy the breathtaking sunset views at Colva Beach. A perfect way to end your trip.\",\n              \"imageUrl\": \"https://example.com/colvasunset.jpg\",\n              \"coordinates\": {\n                \"latitude\": 15.2713,\n                \"longitude\": 73.9520\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.8,\n              \"bestTimeToVisit\": \"5:00 PM - 6:30 PM\",\n              \"travelTime\": \"N/A\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"Ritz Classic\",\n              \"cuisine\": \"Goan, Seafood\",\n              \"priceRange\": \"₹500 - ₹800\",\n              \"location\": \"Margao (near Colva)\"\n            }\n          }\n        }\n      ]\n    }\n  ]\n}\n```"},
          ],
        },
      ],
    });
  
   
  
