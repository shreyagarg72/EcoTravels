// const {
//     GoogleGenerativeAI,
//     HarmCategory,
//     HarmBlockThreshold,
//   } = require("@google/generative-ai");
import {GoogleGenerativeAI} from "@google/generative-ai";
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for multiple locations based on length of cities - for each Location: {Goa, for 3 Days, latitude of 15.60444125, longitude of 74.00172406307475}, for Solo of 1 people with a Cheap budget. Give me a list of hotel options with Hotel Name, Hotel Address, Price, Hotel Image URL, Geo Coordinates, Rating, and Description.\nSuggest an itinerary including Place Name, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, Rating, Travel Time, and include daily food recommendations for meals (breakfast, lunch, dinner) for each location per city duration.\nFor each day in the itinerary, provide:- Morning activity with breakfast details- Midday activity with lunch details- Afternoon activity - Evening activity with dinner details\nProvide a daily plan with the best time to visit each place in JSON format.\n\nPlease provide the response in the following strict JSON format:\n\"travelPlans\": [\n\n\"location\": \"Goa\",\n\"duration\": \"3 Days\",\"travelerType\": \"Solo\",\"budget\": \"Cheap\",\n\"hotelOptions\": [{\"hotelName\": \"\",\"hotelAddress\": \"\",\"price\": \"\",\"hotelImageUrl\": \"\",\"coordinates\": {\"latitude\": 0,\"longitude\": 0},\"rating\": 0,\"description\": \"\"}],\n\"itinerary\": [{\"day\": 1,\"theme\": \"Day Theme\",\n\"morning\": {\n\"activity\": {\"placeName\": \"\",\"placeDetails\": \"\",\"imageUrl\": \"\",\"coordinates\": {\"latitude\": 0,\"longitude\": 0},\"ticketPrice\": \"\",\"rating\": 0,\"bestTimeToVisit\": \"\",\"travelTime\": \"\"},\n\"breakfast\": {\"restaurantName\": \"\",\"cuisine\": \"\",\"priceRange\": \"\",\"location\": \"\"}},\n\"afternoon\": {\"activity\": {\"placeName\": \"\",\"placeDetails\": \"\",\"imageUrl\": \"\",\"coordinates\": {\"latitude\": 0,\"longitude\": 0},\"ticketPrice\": \"\",\"rating\": 0,\"bestTimeToVisit\": \"\",\"travelTime\": \"\"},\n\"lunch\": {\"restaurantName\": \"\",\"cuisine\": \"\",\"priceRange\": \"\",\"location\": \"\"}},\n\"evening\": {\"activity\": {\"placeName\": \"\",\"placeDetails\": \"\",\"imageUrl\": \"\",\"coordinates\": {\"latitude\": 0,\"longitude\": 0},\"ticketPrice\": \"\",\"rating\": 0,\"bestTimeToVisit\": \"\",\"travelTime\": \"\"},\n\"dinner\": {\"restaurantName\": \"\",\"cuisine\": \"\",\"priceRange\": \"\",\"location\": \"\"}}}]\ntotalCost estimation:\"\"}]Please ensure each field follows this exact structure and naming convention. Fields should not be empty - use \"Not available\" if information is not applicable.\n\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlans\": [\n    {\n      \"location\": \"Goa\",\n      \"duration\": \"3 Days\",\n      \"travelerType\": \"Solo\",\n      \"budget\": \"Cheap\",\n      \"hotelOptions\": [\n        {\n          \"hotelName\": \"Old Goa Residency\",\n          \"hotelAddress\": \"Near Basilica of Bom Jesus, Old Goa, Goa 403402, India\",\n          \"price\": \"₹800 - ₹1500\",\n          \"hotelImageUrl\": \"Not available\",\n          \"coordinates\": {\n            \"latitude\": 15.5044,\n            \"longitude\": 73.9021\n          },\n          \"rating\": 3.5,\n          \"description\": \"Basic accommodation near historical sites in Old Goa.\"\n        },\n        {\n          \"hotelName\": \"Red Door Hostel\",\n          \"hotelAddress\": \"Anjuna Mapusa Rd, Mazal Waddo, Anjuna, Goa 403509, India\",\n          \"price\": \"₹500 - ₹1000\",\n          \"hotelImageUrl\": \"Not available\",\n          \"coordinates\": {\n            \"latitude\": 15.5720,\n            \"longitude\": 73.7415\n          },\n          \"rating\": 4.0,\n          \"description\": \"Budget-friendly hostel with a social atmosphere in Anjuna.\"\n        }\n      ],\n      \"itinerary\": [\n        {\n          \"day\": 1,\n          \"theme\": \"Beaches and Chapora Fort\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Calangute Beach\",\n              \"placeDetails\": \"Popular and crowded beach known for water sports and shacks.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.5435,\n                \"longitude\": 73.7686\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.0,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"Depends on your hotel location.\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Infantaria\",\n              \"cuisine\": \"Continental, Goan\",\n              \"priceRange\": \"₹200 - ₹400\",\n              \"location\": \"Calangute\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Chapora Fort\",\n              \"placeDetails\": \"Historical fort offering panoramic views of Vagator and Anjuna beaches.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.5979,\n                \"longitude\": 73.7415\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.2,\n              \"bestTimeToVisit\": \"3:00 PM - 5:00 PM\",\n              \"travelTime\": \"30 minutes from Calangute.\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Curlies Beach Shack\",\n              \"cuisine\": \"Seafood, Indian\",\n              \"priceRange\": \"₹300 - ₹600\",\n              \"location\": \"Anjuna Beach\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Anjuna Flea Market (Wednesday only)\",\n              \"placeDetails\": \"A vibrant flea market with clothes, handicrafts, and souvenirs.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.5777,\n                \"longitude\": 73.7397\n              },\n              \"ticketPrice\": \"Free (shopping expenses vary)\",\n              \"rating\": 4.1,\n              \"bestTimeToVisit\": \"4:00 PM - 7:00 PM\",\n              \"travelTime\": \"5 minutes from Chapora Fort\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"Eva Cafe\",\n              \"cuisine\": \"Italian, European\",\n              \"priceRange\": \"₹400 - ₹700\",\n              \"location\": \"Anjuna\"\n            }\n          }\n        },\n        {\n          \"day\": 2,\n          \"theme\": \"Old Goa and Panjim\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Basilica of Bom Jesus\",\n              \"placeDetails\": \"UNESCO World Heritage site, housing the remains of St. Francis Xavier.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.5018,\n                \"longitude\": 73.9082\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.5,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"Depends on your hotel location.\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Vinayak Family Restaurant\",\n              \"cuisine\": \"Goan\",\n              \"priceRange\": \"₹150 - ₹300\",\n              \"location\": \"Near Basilica of Bom Jesus\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Se Cathedral\",\n              \"placeDetails\": \"One of the largest churches in Asia, located in Old Goa.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.5012,\n                \"longitude\": 73.9073\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.4,\n              \"bestTimeToVisit\": \"12:00 PM - 2:00 PM\",\n              \"travelTime\": \"Walking distance from Basilica of Bom Jesus.\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Viva Panjim\",\n              \"cuisine\": \"Goan, Portuguese\",\n              \"priceRange\": \"₹300 - ₹500\",\n              \"location\": \"Panjim\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Fontainhas (Latin Quarter)\",\n              \"placeDetails\": \"Charming neighborhood in Panjim with colorful Portuguese architecture.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.4961,\n                \"longitude\": 73.8251\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.3,\n              \"bestTimeToVisit\": \"4:00 PM - 6:00 PM\",\n              \"travelTime\": \"15 minutes from Se Cathedral.\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"The Fisherman's Wharf\",\n              \"cuisine\": \"Seafood, Indian\",\n              \"priceRange\": \"₹500 - ₹800\",\n              \"location\": \"Panjim\"\n            }\n          }\n        },\n        {\n          \"day\": 3,\n          \"theme\": \"South Goa Beaches\",\n          \"morning\": {\n            \"activity\": {\n              \"placeName\": \"Palolem Beach\",\n              \"placeDetails\": \"Serene beach known for its calm waters and dolphin spotting tours.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.0073,\n                \"longitude\": 74.0240\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.6,\n              \"bestTimeToVisit\": \"9:00 AM - 11:00 AM\",\n              \"travelTime\": \"Approximately 2 hours from Panjim.\"\n            },\n            \"breakfast\": {\n              \"restaurantName\": \"Magic Italy Restaurant & Pizzeria\",\n              \"cuisine\": \"Italian\",\n              \"priceRange\": \"₹250 - ₹450\",\n              \"location\": \"Palolem\"\n            }\n          },\n          \"afternoon\": {\n            \"activity\": {\n              \"placeName\": \"Colva Beach\",\n              \"placeDetails\": \"Long stretch of white sand beach, popular for sunset viewing.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.2747,\n                \"longitude\": 73.9535\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.2,\n              \"bestTimeToVisit\": \"1:00 PM - 3:00 PM\",\n              \"travelTime\": \"Approximately 1 hour from Palolem.\"\n            },\n            \"lunch\": {\n              \"restaurantName\": \"Mickey's Colva\",\n              \"cuisine\": \"Seafood, Indian\",\n              \"priceRange\": \"₹350 - ₹650\",\n              \"location\": \"Colva Beach\"\n            }\n          },\n          \"evening\": {\n            \"activity\": {\n              \"placeName\": \"Sunset at Colva Beach\",\n              \"placeDetails\": \"Enjoy the beautiful sunset views.\",\n              \"imageUrl\": \"Not available\",\n              \"coordinates\": {\n                \"latitude\": 15.2747,\n                \"longitude\": 73.9535\n              },\n              \"ticketPrice\": \"Free\",\n              \"rating\": 4.7,\n              \"bestTimeToVisit\": \"5:00 PM - 6:30 PM\",\n              \"travelTime\": \"N/A\"\n            },\n            \"dinner\": {\n              \"restaurantName\": \"Souza Lobo\",\n              \"cuisine\": \"Seafood, Goan\",\n              \"priceRange\": \"₹400 - ₹700\",\n              \"location\": \"Calangute Beach (Return to North Goa)\"\n            }\n          }\n        }\n      ],\n      \"totalCost estimation\": \"₹5000 - ₹8000 (excluding flights and accommodation, assuming budget-friendly choices)\"\n    }\n  ]\n}\n```"},
          ],
        },
      ],
    });
  
   
  
